(c=>{"use strict";const r=t=>{const e={columns:[],columnsIdxList:[],bootstrap:!1,bootstrap_version:3,autoSize:!0,ajax:null,label:"Filter "};return"bootstrap"in t&&"boolean"==typeof t.bootstrap&&(e.bootstrap=t.bootstrap),"bootstrap_version"in t&&"number"==typeof t.bootstrap_version&&(e.bootstrap_version=t.bootstrap_version),"autoSize"in t&&"boolean"==typeof t.autoSize&&(e.autoSize=t.autoSize),"ajax"in t&&"string"==typeof t.ajax&&(e.ajax=t.ajax),"label"in t&&"string"==typeof t.label&&(e.label=t.label),"columns"in t&&t.columns.forEach(t=>{if("idx"in t&&"number"==typeof t.idx){const o=t.idx;e.columns[o]={title:null,maxWidth:null,autoSize:!0},e.columnsIdxList.push(o),"title"in t&&"string"==typeof t.title&&(e.columns[o].title=t.title),"maxWidth"in t&&"string"==typeof t.maxWidth&&(e.columns[o].maxWidth=t.maxWidth),"autoSize"in t&&"boolean"==typeof t.autoSize&&(e.columns[o].autoSize=t.autoSize)}}),e},l=(t,o)=>{""!==o&&t.append(`<option value="${o}">${o}</option>`)},u=(t,o)=>{const e=c(`#${t}_filterSelect`+o.index());return c(e).change(()=>{const t=c.fn.dataTable.util.escapeRegex(c(e).val());o.search(t?`^${t}$`:"",!0,!1).draw()}),e};c(document).on("preInit.dt",(t,o)=>{if("dt"===t.namespace){const e=new c.fn.dataTable.Api(o),s=e.table().node().id,n=e.init();if("filterDropDown"in n){const a=r(n.filterDropDown);if(0!==a.columns.length){const i=e.table().container(),l=s+"_filterWrapper";let t=l+" "+(a.bootstrap?"form-inline":"");a.bootstrap&&5===a.bootstrap_version&&(t=l+" input-group my-3"),c(i).prepend(`<div id="${l}" class="${t}"><span class="pt-2">${a.label}</span></div>`),e.columns(a.columnsIdxList).every(function(){const t=this.index();let o=null!==a.columns[t].title?a.columns[t].title:c(this.header()).html();""===o&&(o="column "+(t+1));const e=s+"_filterSelect"+t;let n=`<select id="${e}" class="form-control ${s}_filterSelect"></select>`;a.bootstrap&&5===a.bootstrap_version&&(n=`<select id="${e}" class="form-select w-auto ms-2 ${s}_filterSelect"></select>`),c("#"+l).append(n);const i=c("#"+e).empty().append(`<option value="">(${o})</option>`);a.autoSize&&a.columns[t].autoSize&&768<screen.width&&i.css("max-width",i.outerWidth()),null!==a.columns[t].maxWidth&&i.css("max-width",a.columns[t].maxWidth)})}}}}),c(document).on("init.dt",(t,o)=>{if("dt"===t.namespace){const e=new c.fn.dataTable.Api(o),i=e.table().node().id,n=e.init();if("filterDropDown"in n){const s=r(n.filterDropDown);if(null==s.ajax)e.columns(s.columnsIdxList).every(function(){const t=this,o=u(i,t);t.data().unique().sort().each(t=>{l(o,t)})});else{const a="columns="+encodeURIComponent(e.columns(s.columnsIdxList).dataSrc().join());c.getJSON(s.ajax+"?"+a,n=>{e.columns(s.columnsIdxList).every(function(){const t=this,o=u(i,t),e=t.dataSrc();e in n?n[e].forEach(t=>{l(o,t)}):console.warn(`Missing column '${e}' in ajax response.`)})})}}}})})(jQuery);
//# sourceMappingURL=filterDropDown.min.js.map