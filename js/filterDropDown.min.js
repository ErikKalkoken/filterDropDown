(function($){function parseInitArray(initArray)
{var filterDef={"columns":[],"columnsIdxList":[],"bootstrap":!1};if(("bootstrap" in initArray)&&(typeof initArray.bootstrap==='boolean'))
{filterDef.bootstrap=initArray.bootstrap}
if("columns" in initArray)
{for(var i=0;i<initArray.columns.length;i++)
{var initColumn=initArray.columns[i];if(("idx" in initColumn)&&(typeof initColumn.idx==='number'))
{var idx=initColumn.idx;filterDef.columns[idx]={"cssStyle":"","cssClass":(filterDef.bootstrap)?"form-control ":"","titleOverride":null};filterDef.columnsIdxList.push(idx);if(('cssStyle' in initColumn)&&(typeof initColumn.cssStyle==='string'))
{filterDef.columns[idx].cssStyle=initColumn.cssStyle}
if(('cssClass' in initColumn)&&(typeof initColumn.cssClass==='string'))
{filterDef.columns[idx].cssClass+=initColumn.cssClass}
if(('titleOverride' in initColumn)&&(typeof initColumn.titleOverride==='string'))
{filterDef.columns[idx].titleOverride=initColumn.titleOverride}}}}
return filterDef}
$(document).on('preInit.dt',function(e,settings)
{if(e.namespace!=='dt'){return}
var api=new $.fn.dataTable.Api(settings);var id=api.table().node().id;var initObj=api.init();if(!("filterDropDown" in initObj))return;var filterDef=parseInitArray(initObj.filterDropDown);if(filterDef.columns.length==0)return;var container=api.table().container();var filterWrapperId=id+"_filterWrapper";var divCssClass=(filterDef.bootstrap)?"form-inline":"";$(container).prepend('<div id="'+filterWrapperId+'" class="'+divCssClass+'">Filter </div>');api.columns(filterDef.columnsIdxList).every(function()
{var column=this;var idx=column.index();var colName=(filterDef.columns[idx].titleOverride!==null)?filterDef.columns[idx].titleOverride:$(this.header()).html();var selectId=id+"_filterSelect"+idx;$('#'+filterWrapperId).append('<select id="'+selectId+'" class="'+filterDef.columns[idx].cssClass+'" style="'+filterDef.columns[idx].cssStyle+'"></select>');var select=$("#"+selectId).empty().append('<option value="">('+colName+')</option>')})});$(document).on('init.dt',function(e,settings)
{if(e.namespace!=='dt'){return}
var api=new $.fn.dataTable.Api(settings);var id=api.table().node().id;var initObj=api.init();if(!("filterDropDown" in initObj))return;var filterDef=parseInitArray(initObj.filterDropDown);var container=api.table().container();api.columns(filterDef.columnsIdxList).every(function()
{var column=this;var idx=column.index();var selectId=id+"_filterSelect"+idx;var select=$("#"+selectId).on('change',function()
{var val=$.fn.dataTable.util.escapeRegex($(this).val());column.search(val?'^'+val+'$':'',!0,!1).draw()});column.data().unique().sort().each(function(d,j)
{if(d!="")select.append('<option value="'+d+'">'+d+'</option>')})})})}(jQuery))